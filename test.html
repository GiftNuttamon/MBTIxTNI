<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTI x ‡∏Ñ‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">

<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>


<link href="https://fonts.googleapis.com/css2?family=Mitr:wght@200;300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <style>
        /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå */
        body {
            font-family: 'Mitr', sans-serif;
            overflow: hidden; /* ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏û‡∏∂‡∏á‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå */
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><text y="24" font-size="28" fill="%23b8c2f5">‚ú®</text></svg>') 16 16, auto;
        }
        /* Canvas ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏â‡∏≤‡∏Å 3D */
        #three-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
        }
        /* ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏•‡∏∞‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏´‡πâ‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô "‡∏•‡∏π‡∏Å‡∏≠‡∏°‡πÄ‡∏ß‡∏ó‡∏°‡∏ô‡∏ï‡∏£‡πå" */
        .candy-card {
            background-color: rgba(14, 16, 38, 0.75); /* ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏°‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÅ‡∏™‡∏á */
            backdrop-filter: blur(8px);
            border: 2px solid rgba(135, 206, 250, 0.3); /* ‡∏Ç‡∏≠‡∏ö‡∏ü‡πâ‡∏≤‡∏≠‡πà‡∏≠‡∏ô */
            box-shadow: 0 0 30px rgba(135, 206, 250, 0.5), inset 0 0 10px rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        .candy-button {
            transition: all 0.3s ease;
            transform: translateZ(0); /* Force GPU acceleration */
            background: linear-gradient(135deg, #a78bfa, #818cf8, #3b82f6);
            box-shadow: 4px 4px 15px rgba(100, 116, 139, 0.7);
        }
        .candy-button:hover {
            transform: scale(1.05) translateZ(0);
            box-shadow: 0 6px 20px rgba(135, 206, 250, 0.8);
        }
        .question-option:hover {
             border-color: #a78bfa;
             box-shadow: 0 0 15px rgba(167, 139, 250, 0.8);
        }
        .glowing-text {
            text-shadow: 0 0 8px #93c5fd, 0 0 15px #60a5fa;
            color: #dbeafe;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen">

    <canvas id="three-canvas"></canvas>

    <div id="ui-container" class="relative z-10 p-4 sm:p-8 flex flex-col items-center justify-center min-h-screen">
        <header class="fixed top-0 left-0 w-full p-4 flex justify-between items-center z-20">
            <h1 class="text-2xl font-bold glowing-text">MBTI üîÆ MAJOR</h1>
            <div class="flex space-x-2">
                <button onclick="setLanguage('th')" class="text-sm px-3 py-1 rounded-full candy-button hover:bg-blue-600">TH</button>
                <button onclick="setLanguage('en')" class="text-sm px-3 py-1 rounded-full candy-button hover:bg-blue-600">EN</button>
                <button onclick="setLanguage('ja')" class="text-sm px-3 py-1 rounded-full candy-button hover:bg-blue-600">JP</button>
            </div>
        </header>

        <div id="main-card" class="candy-card w-full max-w-lg p-6 sm:p-10 rounded-3xl mt-20 mb-10 overflow-auto max-h-[90vh]">
            <!-- <video autoplay muted loop class="w-full rounded-2xl mb-6">
                <source src="video/MB(T)NI x ‡∏Ñ‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video> -->
            <div id="step-1" class="step-screen">
                <h2 class="text-3xl font-extrabold mb-6 text-center glowing-text" data-lang-key="title-start">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ì‡∏∞‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡πÉ‡∏à MBT(N)I x ‡∏Ñ‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà</h2>
                <div class="space-y-4">
                    <label class="block">
                        <span class="glowing-text" data-lang-key="label-name">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô (Nickname):</span>
                        <input type="text" id="user-name" class="w-full mt-1 p-3 rounded-xl bg-gray-800 border border-purple-500 focus:ring-blue-500 focus:border-blue-500 text-lg" required>
                    </label>
                    <label class="block">
                        <span class="glowing-text" data-lang-key="label-age">‡∏≠‡∏≤‡∏¢‡∏∏ (Age):</span>
                        <input type="number" id="user-age" class="w-full mt-1 p-3 rounded-xl bg-gray-800 border border-purple-500 focus:ring-blue-500 focus:border-blue-500 text-lg" min="10" max="99" required>
                    </label>
                    <div class="block">
                        <span class="glowing-text" data-lang-key="label-gender">‡πÄ‡∏û‡∏® (Gender):</span>
                        <div class="mt-2 flex space-x-4">
                            <button onclick="setGender('Male')" class="gender-button flex-1 p-3 rounded-xl bg-gray-700 hover:bg-blue-600 border border-transparent transition duration-200 text-lg" data-gender="Male" data-lang-key="gender-male">‡∏ä‡∏≤‡∏¢ (Male)</button>
                            <button onclick="setGender('Female')" class="gender-button flex-1 p-3 rounded-xl bg-gray-700 hover:bg-pink-600 border border-transparent transition duration-200 text-lg" data-gender="Female" data-lang-key="gender-female">‡∏´‡∏ç‡∏¥‡∏á (Female)</button>
                        </div>
                    </div>
                </div>
                <button onclick="startQuiz()" id="start-button" class="candy-button w-full mt-8 p-4 rounded-full text-xl font-bold hover:brightness-110" data-lang-key="button-start" disabled>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á</button>
            </div>

            <div id="step-2" class="step-screen hidden">
                <h2 class="text-3xl font-extrabold mb-8 text-center glowing-text" data-lang-key="title-quiz">‡∏Ñ‡πâ‡∏ô‡∏û‡∏ö‡∏ï‡∏±‡∏ß‡∏ï‡∏ô: ‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏†‡∏≤‡∏û</h2>
                <div id="quiz-content">
                    </div>
                <div class="flex justify-between items-center mt-6">
                    <p class="glowing-text" data-lang-key="progress-text">‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà <span id="current-q">1</span> ‡∏à‡∏≤‡∏Å 12</p>
                    <button onclick="nextQuestion()" id="next-q-button" class="candy-button p-3 rounded-full text-lg font-bold hover:brightness-110" data-lang-key="button-next" disabled>‡∏ï‡πà‡∏≠‡πÑ‡∏õ</button>
                </div>
            </div>

            <div id="step-3" class="step-screen hidden text-center">
    <h2 class="text-3xl font-extrabold mb-4 glowing-text" data-lang-key="title-result">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠...</h2>
    <p id="result-mbti" class="text-6xl font-black text-yellow-300 glowing-text mb-6"></p>

    <div id="recommendation-box" class="p-6 rounded-2xl bg-gray-800 border border-blue-500 text-left">
        <p class="text-xl font-semibold glowing-text mb-2" data-lang-key="label-major">‡∏Ñ‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì:</p>
        <p id="result-major" class="text-2xl font-bold text-teal-400 mb-4"></p>
        <p class="text-xl font-semibold glowing-text mb-2" data-lang-key="label-reason">‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:</p>
        <p id="result-reason" class="text-lg"></p>
    </div>

    <div id="animation-placeholder" class="mt-8">
        <div id="npc-door-animation" class="mt-4 flex flex-col items-center justify-center">
            <div id="npc-info" class="mb-2 p-2 bg-purple-900/50 rounded-xl text-sm glowing-text"></div>
            <div id="npc-icon" class="text-5xl mb-4 animate-bounce"></div>
            <div class="w-full max-w-xs h-10 bg-gradient-to-r from-teal-400/20 via-teal-400/80 to-teal-400/20 rounded-full shadow-lg shadow-teal-500/50 flex items-center justify-center">
                <span class="sm-font-bold text-gray-900" id="door-label"></span>
            </div>
        </div>
    </div>
    
    <button onclick="showMajorDetails()" class="candy-button w-full mt-8 p-4 rounded-full text-xl font-bold hover:brightness-110" data-lang-key="button-details">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î MBTI ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
    
    <button onclick="shareResult()" class="candy-button w-full mt-4 p-4 rounded-full text-xl font-bold bg-blue-600 hover:bg-blue-700">‡πÅ‡∏ä‡∏£‡πå‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</button>

</div>

            <div id="step-4" class="step-screen hidden">
                <h2 class="text-3xl font-extrabold mb-6 text-center glowing-text" data-lang-key="title-details">MBTI ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ì‡∏∞‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ‡πÇ‡∏•‡∏Å‡πÅ‡∏´‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ</h2>

                <div id="major-list" class="space-y-8">
                    </div>
                <button onclick="resetApp()" class="candy-button w-full mt-8 p-4 rounded-full text-xl font-bold bg-red-600 hover:bg-red-700" data-lang-key="button-reset">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
            </div>
            <video style="margin-top: 10%; margin-bottom: 20%;" autoplay muted loop class="w-full rounded-2xl mb-6">
                <source src="video/MB(T)NI x ‡∏Ñ‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>

        <div id="message-box" class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 hidden candy-card p-6 rounded-2xl text-center z-50">
            <p id="message-text" class="text-xl font-semibold mb-4"></p>
            <button onclick="hideMessage()" class="candy-button px-6 py-2 rounded-full font-bold">OK</button>
        </div>

    </div>

    <script>
        // GLOBAL VARIABLES
        let currentStep = 1;
        let userName = '';
        let userAge = 0;
        let userGender = '';
        let currentQuestionIndex = 0;
        let score = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
        let currentLanguage = 'th'; // Default language

        // Three.js Variables
        let scene, camera, renderer, magicObjects = [];
        const NPC_MAPPING = {
            INTJ: { icon: 'ü¶â', color: '#9d174d' }, // Owl
            ENTJ: { icon: 'ü¶Å', color: '#f59e0b' }, // Lion
            INTP: { icon: 'ü¶ä', color: '#10b981' }, // Fox
            ISTP: { icon: 'üõ†Ô∏è', color: '#f97316' }, // Tool/Maker
            ENTP: { icon: 'ü¶é', color: '#8b5cf6' }, // Chameleon
            INFJ: { icon: 'ü¶Ñ', color: '#ec4899' }, // Unicorn
            ISFP: { icon: 'üé®', color: '#ef4444' }, // Artist/Palette
            ESTJ: { icon: 'ü¶´', color: '#14b8a6' }, // Beaver
            ISTJ: { icon: 'üêú', color: '#3b82f6' }, // Ant
            ESFJ: { icon: 'üêï', color: '#fcd34d' }, // Dog
            ENFJ: { icon: 'üê¨', color: '#06b6d4' }, // Dolphin
            ENFP: { icon: 'üêí', color: '#f472b6' }, // Monkey
            default: { icon: '‚ú®', color: '#fef3c7' }
        };


        // --- TRANSLATION DATA ---
        const translations = {
            'th': {
                'title-start': '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ì‡∏∞‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡πÉ‡∏à MBT(N)I x ‡∏Ñ‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà',
                'label-name': '‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô (Nickname):',
                'label-age': '‡∏≠‡∏≤‡∏¢‡∏∏ (Age):',
                'label-gender': '‡πÄ‡∏û‡∏® (Gender):',
                'gender-male': '‡∏ä‡∏≤‡∏¢ (Male)',
                'gender-female': '‡∏´‡∏ç‡∏¥‡∏á (Female)',
                'button-start': '‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á',
                'title-quiz': '‡∏Ñ‡πâ‡∏ô‡∏û‡∏ö‡∏ï‡∏±‡∏ß‡∏ï‡∏ô: ‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏†‡∏≤‡∏û',
                'progress-text': '‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà <span id="current-q">1</span> ‡∏à‡∏≤‡∏Å 12',
                'button-next': '‡∏ï‡πà‡∏≠‡πÑ‡∏õ',
                'title-result': '‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠...',
                'label-major': '‡∏Ñ‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì:',
                'label-reason': '‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:',
                'animation-hint': '‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏ß‡∏¥‡∏ä‡∏≤‡πÄ‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß...',
                'button-details': '‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î MBTI ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î',
                'title-details': 'MBTI ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ì‡∏∞‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ‡πÇ‡∏•‡∏Å‡πÅ‡∏´‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ',
                'button-reset': '‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà',
                'alert-fill-all': '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô',
                'alert-select-option': '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡∏ï‡πà‡∏≠',
                'q1': { text: '‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°‡∏û‡∏•‡∏±‡∏á ‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏≠‡∏ö...', a: { score: 'E', text: '‡πÑ‡∏õ‡∏õ‡∏≤‡∏£‡πå‡∏ï‡∏µ‡πâ, ‡∏û‡∏ö‡∏õ‡∏∞‡∏ú‡∏π‡πâ‡∏Ñ‡∏ô' }, b: { score: 'I', text: '‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏á‡∏µ‡∏¢‡∏ö ‡πÜ, ‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß' } },
                'q2': { text: '‡∏Ñ‡∏∏‡∏ì‡∏°‡∏±‡∏Å‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÇ‡∏î‡∏¢...', a: { score: 'T', text: '‡πÉ‡∏ä‡πâ‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏£‡∏Å‡∏∞' }, b: { score: 'F', text: '‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡∏ô‡∏¥‡∏¢‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß' } },
                'q3': { text: '‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏≠‡∏ö...', a: { score: 'J', text: '‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö' }, b: { score: 'P', text: '‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå' } },
                'q4': { text: '‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏±‡∏ö...', a: { score: 'S', text: '‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á' }, b: { score: 'N', text: '‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏° ‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡∏ô‡∏≤‡∏°‡∏ò‡∏£‡∏£‡∏°' } },
                'q5': { text: '‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏Ñ‡∏∏‡∏ì‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ï‡∏∑‡πà‡∏ô‡πÄ‡∏ï‡πâ‡∏ô‡∏Å‡∏±‡∏ö...', a: { score: 'E', text: '‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà' }, b: { score: 'I', text: '‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¥‡∏™‡∏£‡∏∞‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á' } },
                'q6': { text: '‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£ ‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏≠‡∏ö...', a: { score: 'T', text: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏£‡∏á‡πÑ‡∏õ‡∏ï‡∏£‡∏á‡∏°‡∏≤ ‡πÄ‡∏ô‡πâ‡∏ô‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û' }, b: { score: 'F', text: '‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ô‡πâ‡∏≥‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏±‡∏Ñ‡∏Ñ‡∏µ' } },
                'q7': { text: '‡∏Ñ‡∏∏‡∏ì‡∏°‡∏≠‡∏á‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏õ‡πá‡∏ô...', a: { score: 'J', text: '‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡πà‡∏á‡∏Ñ‡∏£‡∏±‡∏î' }, b: { score: 'P', text: '‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏°‡∏≠' } },
                'q8': { text: '‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞...', a: { score: 'S', text: '‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏û‡∏¥‡∏™‡∏π‡∏à‡∏ô‡πå‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ó‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™' }, b: { score: 'N', text: '‡∏ä‡∏≠‡∏ö‡∏à‡∏¥‡∏ô‡∏ï‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ' } },
                'q9': { text: '‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡∏∑‡∏≠...', a: { score: 'E', text: '‡πÑ‡∏õ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô ‡πÜ' }, b: { score: 'I', text: '‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß' } },
                'q10': { text: '‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡∏Ñ‡∏∏‡∏ì...', a: { score: 'T', text: '‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏ä‡∏¥‡∏á‡∏ï‡∏£‡∏£‡∏Å‡∏∞‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤' }, b: { score: 'F', text: '‡∏£‡∏±‡∏ö‡∏ü‡∏±‡∏á‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡πá‡∏ô‡πÉ‡∏à' } },
                'q11': { text: '‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏à‡∏∞...', a: { score: 'J', text: '‡∏°‡∏µ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏±‡∏ô' }, b: { score: 'P', text: '‡πÉ‡∏ä‡πâ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÅ‡∏ö‡∏ö‡∏™‡∏ö‡∏≤‡∏¢ ‡πÜ ‡πÑ‡∏°‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡∏°‡∏≤‡∏Å' } },
                'q12': { text: '‡∏Ñ‡∏∏‡∏ì‡∏°‡∏±‡∏Å‡∏à‡∏∞...', a: { score: 'S', text: '‡∏°‡∏∏‡πà‡∏á‡πÄ‡∏ô‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏≠‡∏¢‡∏π‡πà' }, b: { score: 'N', text: '‡∏ß‡∏≤‡∏î‡∏ù‡∏±‡∏ô‡∏ñ‡∏∂‡∏á‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏≠‡∏±‡∏ô‡πÑ‡∏Å‡∏•‡πÇ‡∏û‡πâ‡∏ô' } },
                'major-eng': '‡∏Ñ‡∏ì‡∏∞‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏°‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå',
                'major-it': '‡∏Ñ‡∏ì‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®',
                'major-bba': '‡∏Ñ‡∏ì‡∏∞‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à',
                'major-comm': '‡∏Ñ‡∏ì‡∏∞‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏™‡∏≤‡∏Å‡∏•',
                'major-indtech': '‡∏Ñ‡∏ì‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°',
            },
            'en': {
                'title-start': 'Find Your Path: MBT(N)I x Major',
                'label-name': 'Nickname:',
                'label-age': 'Age:',
                'label-gender': 'Gender:',
                'gender-male': 'Male',
                'gender-female': 'Female',
                'button-start': 'Start the Journey',
                'title-quiz': 'Discover Yourself: Personality Quiz',
                'progress-text': 'Question <span id="current-q">1</span> of 12',
                'button-next': 'Next',
                'title-result': 'Congratulations! You are...',
                'label-major': 'Your Recommended Major:',
                'label-reason': 'Reasoning:',
                'animation-hint': 'Your character is walking towards the Major Door...',
                'button-details': 'View All MBTI Details',
                'title-details': 'All MBTIs and Majors: World of Knowledge',
                'button-reset': 'Start Over',
                'alert-fill-all': 'Please fill in all information before starting.',
                'alert-select-option': 'Please select an answer before proceeding.',
                'q1': { text: 'When recharging, you prefer to...', a: { score: 'E', text: 'Go to a party, meet people' }, b: { score: 'I', text: 'Be quiet, read alone' } },
                'q2': { text: 'You usually make decisions by...', a: { score: 'T', text: 'Using logic and reason' }, b: { score: 'F', text: 'Using feelings and personal values' } },
                'q3': { text: 'In your work, you like to...', a: { score: 'J', text: 'Plan ahead and organize' }, b: { score: 'P', text: 'Be flexible, change according to the situation' } },
                'q4': { text: 'You prioritize...', a: { score: 'S', text: 'Details, concrete facts' }, b: { score: 'N', text: 'The big picture, abstract concepts' } },
                'q5': { text: 'When working, you are excited by...', a: { score: 'E', text: 'Collaborating with a large team' }, b: { score: 'I', text: 'Working independently by yourself' } },
                'q6': { text: 'In communication, you prefer...', a: { score: 'T', text: 'Directness, focusing on efficiency' }, b: { score: 'F', text: 'Maintaining harmony and saving face' } },
                'q7': { text: 'You see deadlines as...', a: { score: 'J', text: 'Something to strictly adhere to' }, b: { score: 'P', text: 'A guideline that can always be adjusted' } },
                'q8': { text: 'You tend to...', a: { score: 'S', text: 'Believe what can be proven by the senses' }, b: { score: 'N', text: 'Like imagining possibilities' } },
                'q9': { text: 'The best vacation is...', a: { score: 'E', text: 'Traveling with friends' }, b: { score: 'I', text: 'Watching a movie at home alone' } },
                'q10': { text: 'When a friend has a problem, you...', a: { score: 'T', text: 'Give logical advice for solving the problem' }, b: { score: 'F', text: 'Listen and express sympathy' } },
                'q11': { text: 'You like to...', a: { score: 'J', text: 'Have a daily schedule' }, b: { score: 'P', text: 'Live a casual life without much structure' } },
                'q12': { text: 'You usually...', a: { score: 'S', text: 'Focus on the present and what you are doing' }, b: { score: 'N', text: 'Dream of the distant future' } },
                'major-eng': 'Faculty of Engineering',
                'major-it': 'Faculty of Information Technology',
                'major-bba': 'Faculty of Business Administration',
                'major-comm': 'Faculty of Global Communication',
                'major-indtech': 'Faculty of Digital Technology for Industrial Business',
            },
            'ja': {
                'title-start': 'Â§¢„ÅÆÂ∞ÇÊîª„ÇíË¶ã„Å§„Åë„Çà„ÅÜ: MBT(N)I x Â∞ÇÊîª',
                'label-name': '„Éã„ÉÉ„ÇØ„Éç„Éº„É† (Nickname):',
                'label-age': 'Âπ¥ÈΩ¢ (Age):',
                'label-gender': 'ÊÄßÂà• (Gender):',
                'gender-male': 'Áî∑ÊÄß (Male)',
                'gender-female': 'Â•≥ÊÄß (Female)',
                'button-start': 'ÊóÖ„ÇíÂßã„ÇÅ„Çã',
                'title-quiz': 'Ëá™Â∑±Áô∫Ë¶ã: ÊÄßÊ†ºË®∫Êñ≠„ÇØ„Ç§„Ç∫',
                'progress-text': 'Ë≥™Âïè <span id="current-q">1</span> / 12',
                'button-next': 'Ê¨°„Å∏',
                'title-result': '„Åä„ÇÅ„Åß„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅ„ÅÇ„Å™„Åü„ÅØ...',
                'label-major': '„ÅÇ„Å™„Åü„Å´Êé®Â•®„Åï„Çå„ÇãÂ∞ÇÊîª:',
                'label-reason': 'ÁêÜÁî±:',
                'animation-hint': '„ÅÇ„Å™„Åü„ÅÆ„Ç≠„É£„É©„ÇØ„Çø„Éº„ÅØÂ∞ÇÊîª„ÅÆÊââ„Å´Âêë„Åã„Å£„Å¶Ê≠©„ÅÑ„Å¶„ÅÑ„Åæ„Åô...',
                'button-details': 'MBTI„ÅÆË©≥Á¥∞„Çí„Åô„Åπ„Å¶Ë¶ã„Çã',
                'title-details': '„Åô„Åπ„Å¶„ÅÆMBTI„Å®Â∞ÇÊîª: Áü•Ë≠ò„ÅÆ‰∏ñÁïå',
                'button-reset': 'ÊúÄÂàù„Åã„Çâ',
                'alert-fill-all': 'ÈñãÂßã„Åô„ÇãÂâç„Å´ÂÖ•ÂäõÊ¨Ñ„Çí„Åô„Åπ„Å¶„ÅîË®òÂÖ•„Åè„Å†„Åï„ÅÑ„ÄÇ',
                'alert-select-option': 'Ê¨°„Å´ÈÄ≤„ÇÄÂâç„Å´ÂõûÁ≠î„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
                'q1': { text: '„Ç®„Éç„É´„ÇÆ„Éº„Çí„ÉÅ„É£„Éº„Ç∏„Åó„Åü„ÅÑ„Å®„Åç„ÄÅ„ÅÇ„Å™„Åü„ÅØ...', a: { score: 'E', text: '„Éë„Éº„ÉÜ„Ç£„Éº„Å´Ë°å„Åè„ÄÅ‰∫∫„Å®‰ºö„ÅÜ' }, b: { score: 'I', text: 'Èùô„Åã„Å´ÈÅé„Åî„Åô„ÄÅ‰∏Ä‰∫∫„ÅßË™≠Êõ∏„Åô„Çã' } },
                'q2': { text: '„ÅÇ„Å™„Åü„ÅØÈÄöÂ∏∏„ÄÅ„Å©„ÅÆ„Çà„ÅÜ„Å´Ê±∫Êñ≠„Åó„Åæ„Åô„ÅãÔºü', a: { score: 'T', text: 'Ë´ñÁêÜ„Å®ÁêÜÊÄß„ÇíÂà©Áî®„Åô„Çã' }, b: { score: 'F', text: 'ÊÑüÊÉÖ„Å®ÂÄã‰∫∫ÁöÑ„Å™‰æ°ÂÄ§Ë¶≥„ÇíÂà©Áî®„Åô„Çã' } },
                'q3': { text: '‰ªï‰∫ã„Åß„ÅØ„ÄÅ„ÅÇ„Å™„Åü„ÅØ...', a: { score: 'J', text: '‰∫ãÂâç„Å´Ë®àÁîª„ÇíÁ´ã„Å¶„Å¶Êï¥ÁêÜ„Åô„Çã' }, b: { score: 'P', text: 'ÊüîËªü„Å´ÂØæÂøú„Åó„ÄÅÁä∂Ê≥Å„Å´Âøú„Åò„Å¶Â§âÊõ¥„Åô„Çã' } },
                'q4': { text: '„ÅÇ„Å™„Åü„ÅåÂÑ™ÂÖà„Åô„Çã„ÅÆ„ÅØ...', a: { score: 'S', text: 'Ë©≥Á¥∞„ÄÅÂÖ∑‰ΩìÁöÑ„Å™‰∫ãÂÆü' }, b: { score: 'N', text: 'ÂÖ®‰ΩìÂÉè„ÄÅÊäΩË±°ÁöÑ„Å™Ê¶ÇÂøµ' } },
                'q5': { text: 'ÂÉç„Åè„Å®„Åç„ÄÅ„ÅÇ„Å™„Åü„Åå„Çè„Åè„Çè„Åè„Åô„Çã„ÅÆ„ÅØ...', a: { score: 'E', text: 'Â§ß„Åç„Å™„ÉÅ„Éº„É†„Å®ÂçîÂäõ„Åô„Çã„Åì„Å®' }, b: { score: 'I', text: '‰∏Ä‰∫∫„ÅßÁã¨Á´ã„Åó„Å¶‰ΩúÊ•≠„Åô„Çã„Åì„Å®' } },
                'q6': { text: '„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥„Åß„ÅØ„ÄÅ„ÅÇ„Å™„Åü„ÅØ...', a: { score: 'T', text: 'ÁéáÁõ¥„Åï„ÄÅÂäπÁéáÊÄß„Å´ÁÑ¶ÁÇπ„ÇíÂΩì„Å¶„Çã' }, b: { score: 'F', text: 'Ë™øÂíå„Çí‰øù„Å°„ÄÅÁõ∏Êâã„ÅÆÊ∞óÊåÅ„Å°„ÇíÂ∞äÈáç„Åô„Çã' } },
                'q7': { text: 'Á∑†„ÇÅÂàá„Çä„Çí„Å©„ÅÆ„Çà„ÅÜ„Å´ËÄÉ„Åà„Åæ„Åô„ÅãÔºü', a: { score: 'J', text: 'Âé≥ÂÆà„Åô„Åπ„Åç„ÇÇ„ÅÆ' }, b: { score: 'P', text: '„ÅÑ„Å§„Åß„ÇÇË™øÊï¥ÂèØËÉΩ„Å™„Ç¨„Ç§„Éâ„É©„Ç§„É≥' } },
                'q8': { text: '„ÅÇ„Å™„Åü„ÅØÊ¨°„ÅÆÂÇæÂêë„Åå„ÅÇ„Çä„Åæ„Åô...', a: { score: 'S', text: '‰∫îÊÑü„ÅßË®ºÊòé„Åß„Åç„Çã„Åì„Å®„Çí‰ø°„Åò„Çã' }, b: { score: 'N', text: 'ÂèØËÉΩÊÄß„ÇíÊÉ≥ÂÉè„Åô„Çã„ÅÆ„ÅåÂ•Ω„Åç' } },
                'q9': { text: 'ÊúÄÈ´ò„ÅÆ‰ºëÊöá„ÅØ...', a: { score: 'E', text: 'ÂèãÈÅî„Å®ÊóÖË°å„Å´Ë°å„Åè' }, b: { score: 'I', text: '‰∏Ä‰∫∫„ÅßÂÆ∂„ÅßÊò†Áîª„ÇíË¶ã„Çã' } },
                'q10': { text: 'ÂèãÈÅî„ÅåÂïèÈ°å„ÇíÊä±„Åà„Å¶„ÅÑ„Çã„Å®„Åç„ÄÅ„ÅÇ„Å™„Åü„ÅØ...', a: { score: 'T', text: 'Ë´ñÁêÜÁöÑ„Å™„Ç¢„Éâ„Éê„Ç§„Çπ„Çí‰∏é„Åà„Çã' }, b: { score: 'F', text: 'ÂÖ±ÊÑü„Åó„Å¶Ë©±„ÇíËÅû„Åè' } },
                'q11': { text: '„ÅÇ„Å™„Åü„ÅØ„Å©„Å°„Çâ„Åã„Å®„ÅÑ„ÅÜ„Å®...', a: { score: 'J', text: 'ÊØéÊó•„ÅÆ„Çπ„Ç±„Ç∏„É•„Éº„É´„ÇíÊåÅ„Å§' }, b: { score: 'P', text: 'Ê∞óÊ•Ω„Å´‰∫àÂÆö„ÇíÊ±∫„ÇÅ„Åö„Å´ÈÅé„Åî„Åô' } },
                'q12': { text: '„ÅÇ„Å™„Åü„ÅØÊôÆÊÆµ...', a: { score: 'S', text: 'ÁèæÂú®„Å®„ÇÑ„Å£„Å¶„ÅÑ„Çã„Åì„Å®„Å´ÈõÜ‰∏≠„Åô„Çã' }, b: { score: 'N', text: 'ÈÅ†„ÅÑÊú™Êù•„ÇíÂ§¢Ë¶ã„Çã' } },
                'major-eng': 'Â∑•Â≠¶ÈÉ®',
                'major-it': 'ÊÉÖÂ†±ÊäÄË°ìÂ≠¶ÈÉ®',
                'major-bba': 'ÁµåÂñ∂ÁÆ°ÁêÜÂ≠¶ÈÉ®',
                'major-comm': '„Ç∞„É≠„Éº„Éê„É´„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥Â≠¶ÈÉ®',
                'major-indtech': 'Áî£Ê•≠„Éì„Ç∏„Éç„ÇπÂêë„Åë„Éá„Ç∏„Çø„É´ÊäÄË°ìÂ≠¶ÈÉ®',
            }
        };

        // --- QUIZ QUESTIONS ---
        const quizQuestions = [
            { key: 'q1', type: 'EI' }, { key: 'q2', type: 'TF' }, { key: 'q3', type: 'JP' },
            { key: 'q4', type: 'SN' }, { key: 'q5', type: 'EI' }, { key: 'q6', type: 'TF' },
            { key: 'q7', type: 'JP' }, { key: 'q8', type: 'SN' }, { key: 'q9', type: 'EI' },
            { key: 'q10', type: 'TF' }, { key: 'q11', type: 'JP' }, { key: 'q12', type: 'SN' }
        ];

        // --- MAJOR DATA & LOGIC ---
        const majorData = [
            {
                id: 'eng', lang_key: 'major-eng',
                description: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏Ñ‡∏¥‡∏î‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°‡πÉ‡∏´‡∏°‡πà‡πÜ',
                mbti: ['INTJ', 'ENTJ', 'INTP', 'ISTP'],
                reasoning: {
                    INTJ: '‡∏ô‡∏±‡∏Å‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ ‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û',
                    ENTJ: '‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö ‡∏°‡∏µ‡∏ß‡∏¥‡∏™‡∏±‡∏¢‡∏ó‡∏±‡∏®‡∏ô‡πå‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà',
                    INTP: '‡∏ô‡∏±‡∏Å‡∏Ñ‡∏¥‡∏î‡∏ô‡∏≠‡∏Å‡∏Å‡∏£‡∏≠‡∏ö ‡∏ä‡∏≠‡∏ö‡∏ó‡∏î‡∏•‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤ ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ô‡πÉ‡∏à‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏Ñ‡∏ß‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏á‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå',
                    ISTP: '‡∏ô‡∏±‡∏Å‡∏•‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏≥ ‡∏ä‡∏≠‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏•‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£ ‡∏°‡∏µ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏ô‡∏ó‡∏≤‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß',
                }
            },
            {
                id: 'it', lang_key: 'major-it',
                description: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ ‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏• ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•',
                mbti: ['INTP', 'ENTP', 'INFJ', 'ISFP'],
                reasoning: {
                    INTP: '‡∏ô‡∏±‡∏Å‡∏Ñ‡∏¥‡∏î‡πÄ‡∏ä‡∏¥‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå ‡∏ä‡∏≠‡∏ö‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏£‡∏∞‡∏ö‡∏ö ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÉ‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°',
                    ENTP: '‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÉ‡∏´‡∏°‡πà‡πÜ ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå‡πÇ‡∏ã‡∏•‡∏π‡∏ä‡∏±‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÉ‡∏Ñ‡∏£',
                    INFJ: '‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏™‡∏±‡∏á‡∏Ñ‡∏° ‡∏°‡∏µ‡πÅ‡∏£‡∏á‡∏Ç‡∏±‡∏ö‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢',
                    ISFP: '‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå‡∏î‡πâ‡∏≤‡∏ô‡∏á‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏• ‡πÇ‡∏î‡∏î‡πÄ‡∏î‡πà‡∏ô‡∏î‡πâ‡∏≤‡∏ô UI/UX ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ',
                }
            },
            {
                id: 'bba', lang_key: 'major-bba',
                description: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏• ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏†‡∏≤‡∏Ñ‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à',
                mbti: ['ESTJ', 'ISTJ', 'ESFJ', 'ENFJ', 'ENFP'],
                reasoning: {
                    ESTJ: '‡∏ô‡∏±‡∏Å‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô',
                    ISTJ: '‡∏ô‡∏±‡∏Å‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡πÅ‡∏•‡∏∞‡∏£‡∏≠‡∏ö‡∏Ñ‡∏≠‡∏ö‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô',
                    ESFJ: '‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏î‡∏µ‡∏£‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ ‡∏°‡∏µ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Å‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤',
                    ENFJ: '‡∏ô‡∏±‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏ô ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡πâ‡∏ô‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏£‡∏•‡∏∏‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à',
                    ENFP: '‡∏ô‡∏±‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡πÉ‡∏´‡∏°‡πà‡πÜ ‡∏î‡πâ‡∏≤‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏£‡∏¥‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏î‡∏∂‡∏á‡∏î‡∏π‡∏î',
                }
            },
            {
                id: 'comm', lang_key: 'major-comm',
                description: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏†‡∏≤‡∏©‡∏≤‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°',
                mbti: ['ENFP', 'ENTP', 'INFJ', 'ENFJ'],
                reasoning: {
                    ENFP: '‡∏ô‡∏±‡∏Å‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ñ‡πà‡∏≤‡∏¢‡∏ó‡∏≠‡∏î‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ó‡∏£‡∏á‡∏û‡∏•‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏ô‡πà‡∏≤‡∏à‡∏î‡∏à‡∏≥',
                    ENTP: '‡∏ô‡∏±‡∏Å‡∏Ñ‡∏¥‡∏î‡∏ô‡∏≠‡∏Å‡∏Å‡∏£‡∏≠‡∏ö ‡πÄ‡∏Å‡πà‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏£‡∏à‡∏≤‡πÅ‡∏•‡∏∞‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠ ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏ô‡πâ‡∏°‡∏ô‡πâ‡∏≤‡∏ß‡πÉ‡∏à‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô',
                    INFJ: '‡∏ô‡∏±‡∏Å‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏° ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏û‡∏π‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç',
                    ENFJ: '‡∏ô‡∏±‡∏Å‡∏û‡∏π‡∏î ‡∏ô‡∏±‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏• ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÄ‡∏™‡∏ô‡πà‡∏´‡πå‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£ ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏î‡∏π‡∏î‡∏ú‡∏π‡πâ‡∏ü‡∏±‡∏á',
                }
            },
            {
                id: 'indtech', lang_key: 'major-indtech',
                description: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏†‡∏≤‡∏Ñ‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°',
                mbti: ['INTJ', 'ENTJ', 'ISTJ', 'INTP'],
                reasoning: {
                    INTJ: '‡∏ô‡∏±‡∏Å‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°',
                    ENTJ: '‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏° ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏´‡πà‡∏ß‡∏á‡πÇ‡∏ã‡πà‡∏≠‡∏∏‡∏õ‡∏ó‡∏≤‡∏ô',
                    ISTJ: '‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏£‡∏≠‡∏ö‡∏Ñ‡∏≠‡∏ö ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï',
                    INTP: '‡∏ô‡∏±‡∏Å‡∏Ñ‡∏¥‡∏î‡πÄ‡∏ä‡∏¥‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå ‡∏ä‡∏≠‡∏ö‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÉ‡∏´‡∏°‡πà‡πÜ ‡πÄ‡∏ä‡πà‡∏ô IoT ‡πÅ‡∏•‡∏∞ AI ‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô',
                }
            }
        ];

        // --- HELPER FUNCTIONS ---

        function showMessage(text) {
            document.getElementById('message-text').innerText = text;
            document.getElementById('message-box').classList.remove('hidden');
        }

        function hideMessage() {
            document.getElementById('message-box').classList.add('hidden');
        }

        function setLanguage(lang) {
            currentLanguage = lang;
            document.querySelectorAll('[data-lang-key]').forEach(element => {
                const key = element.getAttribute('data-lang-key');
                const text = translations[lang][key];
                if (text) {
                    if (element.hasAttribute('data-gender')) {
                        // For gender buttons, need to check if text is a simple string
                        element.textContent = text;
                    } else if (key === 'progress-text') { // <-- FIXED: Check key instead of non-existent ID
                        // This element contains HTML (<span> for current question number) so we must use innerHTML.
                        element.innerHTML = text;
                        // Since the HTML is now rendered, update the number inside the span to reflect the current question index.
                        // We use the full HTML string from translations to ensure the correct language is set, then update the number.
                        document.getElementById('current-q').textContent = currentQuestionIndex + 1;
                    } else {
                        element.textContent = text;
                    }
                }
            });
            // Update quiz if active
            if (currentStep === 2) renderQuestion(currentQuestionIndex);
            // Update result if active
            if (currentStep === 3) displayResult();
            // Update major details if active
            if (currentStep === 4) renderMajorDetails();

            // Special update for Step 1 buttons
            document.querySelectorAll('.gender-button').forEach(button => {
                const genderKey = button.getAttribute('data-gender') === 'Male' ? 'gender-male' : 'gender-female';
                button.textContent = translations[lang][genderKey];
            });
        }

        function updateStep1Button() {
            userName = document.getElementById('user-name').value.trim();
            userAge = parseInt(document.getElementById('user-age').value);

            const startButton = document.getElementById('start-button');
            if (userName && userAge >= 10 && userGender) {
                startButton.disabled = false;
                startButton.classList.remove('opacity-50', 'cursor-not-allowed');
            } else {
                startButton.disabled = true;
                startButton.classList.add('opacity-50', 'cursor-not-allowed');
            }
        }

        function setGender(gender) {
            userGender = gender;
            document.querySelectorAll('.gender-button').forEach(btn => {
                btn.classList.remove('bg-blue-500', 'bg-pink-500', 'ring-4', 'ring-offset-2', 'ring-offset-gray-900', 'ring-blue-500', 'ring-pink-500');
                btn.classList.add('bg-gray-700', 'hover:bg-blue-600');
                if (btn.getAttribute('data-gender') === gender) {
                    if (gender === 'Male') {
                         btn.classList.add('bg-blue-500', 'ring-4', 'ring-offset-2', 'ring-offset-gray-900', 'ring-blue-500');
                         btn.classList.remove('bg-gray-700', 'hover:bg-blue-600');
                    } else {
                        btn.classList.add('bg-pink-500', 'ring-4', 'ring-offset-2', 'ring-offset-gray-900', 'ring-pink-500');
                        btn.classList.remove('bg-gray-700', 'hover:bg-blue-600');
                    }
                }
            });
            updateStep1Button();
        }

        // --- STEP 1: START QUIZ ---
        function startQuiz() {
            userName = document.getElementById('user-name').value.trim();
            userAge = parseInt(document.getElementById('user-age').value);

            if (!userName || userAge < 10 || !userGender) {
                showMessage(translations[currentLanguage]['alert-fill-all']);
                return;
            }

            // Reset score and start question 0
            score = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            currentQuestionIndex = 0;
            updateStep(2);
            renderQuestion(currentQuestionIndex);
        }

        // --- STEP 2: QUIZ LOGIC ---

        function renderQuestion(index) {
            const container = document.getElementById('quiz-content');
            const qData = quizQuestions[index];
            const qLang = translations[currentLanguage][qData.key];

            // Check if language data is available
            if (!qLang || !qLang.text || !qLang.a || !qLang.b) {
                console.error(`Missing translation data for question key: ${qData.key}`);
                return;
            }

            container.innerHTML = `
                <div class="mb-6">
                    <p class="text-xl font-semibold glowing-text mb-4 text-center">${qLang.text}</p>
                </div>
                <div class="space-y-4">
                    <button class="question-option w-full p-4 rounded-2xl bg-gray-800 border border-purple-500 text-lg text-left transition duration-300" onclick="selectAnswer('${qLang.a.score}')">
                        A. ${qLang.a.text}
                    </button>
                    <button class="question-option w-full p-4 rounded-2xl bg-gray-800 border border-purple-500 text-lg text-left transition duration-300" onclick="selectAnswer('${qLang.b.score}')">
                        B. ${qLang.b.text}
                    </button>
                </div>
            `;

            document.getElementById('current-q').textContent = index + 1;
            document.getElementById('next-q-button').disabled = true;
            document.getElementById('next-q-button').classList.add('opacity-50', 'cursor-not-allowed');
        }

        function selectAnswer(scoreKey) {
            const qData = quizQuestions[currentQuestionIndex];
            // Clear previous selection visually and update score
            document.querySelectorAll('.question-option').forEach(btn => {
                btn.classList.remove('bg-purple-700', 'ring-4', 'ring-purple-400');
            });

            // Apply visual selection
            const selectedButton = event.target.closest('.question-option');
            selectedButton.classList.add('bg-purple-700', 'ring-4', 'ring-purple-400');

            // Store the score (1 point for the selected trait)
            // We use 0.5 to balance the four questions per pair
            qData.selectedScore = scoreKey;

            document.getElementById('next-q-button').disabled = false;
            document.getElementById('next-q-button').classList.remove('opacity-50', 'cursor-not-allowed');
        }

        function nextQuestion() {
            const selectedScoreKey = quizQuestions[currentQuestionIndex].selectedScore;
            if (!selectedScoreKey) {
                showMessage(translations[currentLanguage]['alert-select-option']);
                return;
            }

            // Apply the score (each question gives 1 point to one side)
            score[selectedScoreKey] += 1;

            currentQuestionIndex++;
            if (currentQuestionIndex < quizQuestions.length) {
                renderQuestion(currentQuestionIndex);
            } else {
                calculateMBTI();
            }
        }

        // --- STEP 3: RESULT LOGIC ---

        function calculateMBTI() {
            const e = score.E;
            const i = score.I;
            const s = score.S;
            const n = score.N;
            const t = score.T;
            const f = score.F;
            const j = score.J;
            const p = score.P;

            const finalMBTI =
                (e >= i ? 'E' : 'I') +
                (s >= n ? 'S' : 'N') +
                (t >= f ? 'T' : 'F') +
                (j >= p ? 'J' : 'P');

            document.getElementById('result-mbti').textContent = finalMBTI;
            displayResult(finalMBTI);
            updateStep(3);
        }

        function getRecommendation(mbti) {
            // Find the best fit Major based on the provided list
            for (const major of majorData) {
                if (major.mbti.includes(mbti)) {
                    // Found a match
                    return {
                        majorKey: major.lang_key,
                        majorName: translations[currentLanguage][major.lang_key] || major.lang_key, // Translated name
                        reason: major.reasoning[mbti] || major.description // Specific reason or general description (Thai only for reason)
                    };
                }
            }

            // Fallback for types not explicitly listed (e.g., ESTP, ENFJ is listed, but ISFJ, etc.)
            // We need a robust fallback based on I/E and T/F
            if (mbti.includes('T') && mbti.includes('J')) return { majorKey: 'major-eng', majorName: translations[currentLanguage]['major-eng'], reason: '‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏ä‡∏¥‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á (Fallback)' };
            if (mbti.includes('N') && mbti.includes('P')) return { majorKey: 'major-it', majorName: translations[currentLanguage]['major-it'], reason: '‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏£‡∏ß‡∏à‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡πÉ‡∏´‡∏°‡πà ‡πÜ ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ó‡∏≤‡∏á‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏• (Fallback)' };
            if (mbti.includes('F') && mbti.includes('E')) return { majorKey: 'major-comm', majorName: translations[currentLanguage]['major-comm'], reason: '‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå (Fallback)' };

            // Default
            return { majorKey: 'major-bba', majorName: translations[currentLanguage]['major-bba'], reason: '‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Å‡∏±‡∏ö‡∏™‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à (Default Fallback)' };
        }

        function displayResult(mbti = document.getElementById('result-mbti').textContent) {
            const recommendation = getRecommendation(mbti);

            document.getElementById('result-major').textContent = recommendation.majorName;
            document.getElementById('result-reason').textContent = recommendation.reason; // Reason is kept in Thai as per prompt (specific reasons are not translated)
            document.getElementById('door-label').textContent = recommendation.majorName;

            const npc = NPC_MAPPING[mbti] || NPC_MAPPING.default;
            const npcIcon = document.getElementById('npc-icon');
            const npcInfo = document.getElementById('npc-info');

            // Animation setup (using basic HTML animation since complex 3D NPC model is out of scope for single file)
            npcIcon.textContent = npc.icon;
            npcIcon.style.color = npc.color;
            npcInfo.textContent = `${userName} (${userAge}) - ${mbti}`;

            // Simple "walking" animation
            npcIcon.classList.remove('animate-bounce');
            npcIcon.style.transform = 'translateX(-100%)';
            setTimeout(() => {
                npcIcon.style.transition = 'transform 3s ease-in-out';
                npcIcon.style.transform = 'translateX(0)';
            }, 50);
            setTimeout(() => {
                npcIcon.style.transition = 'transform 0.5s ease-in-out, opacity 0.5s ease-in-out';
                npcIcon.style.transform = 'scale(0) translateY(-50px)';
                npcIcon.style.opacity = '0';
                // Reset for next run
                setTimeout(() => {
                    npcIcon.style.transition = 'none';
                    npcIcon.style.transform = 'scale(1) translateY(0) translateX(-100%)';
                    npcIcon.style.opacity = '1';
                }, 3500);
            }, 3000);
        }

        // --- STEP 4: DETAILS LOOKUP ---

        function renderMajorDetails() {
            const listContainer = document.getElementById('major-list');
            listContainer.innerHTML = '';

            majorData.forEach(major => {
                const majorTitle = translations[currentLanguage][major.lang_key];
                const emojis = ['üåü', '‚ú®', 'üí°', 'üß†', '‚öôÔ∏è', 'üìà', 'üí¨', 'üíª'];
                const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];

                // Get translated description if available, otherwise use Thai
                const description = major.description;

                let mbtiListHtml = major.mbti.map(mbti => {
                    const reason = major.reasoning[mbti] || '';
                    return `
                        <div class="p-3 rounded-lg bg-gray-900 border border-indigo-600 mb-2">
                            <span class="font-bold text-lg text-yellow-300">${mbti}</span>: <span class="text-gray-300">${reason}</span>
                        </div>
                    `;
                }).join('');

                listContainer.innerHTML += `
                    <div class="candy-card p-6 rounded-2xl">
                        <h3 class="text-2xl font-bold glowing-text mb-3 flex items-center">
                            ${randomEmoji} ${majorTitle}
                        </h3>
                        <p class="text-lg italic text-blue-300 mb-4">${description}</p>
                        <div class="space-y-2">
                            ${mbtiListHtml}
                        </div>
                    </div>`;
            });
        }

        function showMajorDetails() {
            renderMajorDetails();
            updateStep(4);
        }

        // --- UI MANAGEMENT ---

        function updateStep(step) {
            currentStep = step;
            document.querySelectorAll('.step-screen').forEach(screen => {
                screen.classList.add('hidden');
            });
            document.getElementById(`step-${step}`).classList.remove('hidden');

            // Reset scroll position on step change
            document.getElementById('main-card').scrollTop = 0;
        }

        function resetApp() {
            // Reset all state
            currentStep = 1;
            userName = '';
            userAge = 0;
            userGender = '';
            currentQuestionIndex = 0;
            score = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            quizQuestions.forEach(q => q.selectedScore = undefined);

            // Reset UI
            document.getElementById('user-name').value = '';
            document.getElementById('user-age').value = '';
            document.querySelectorAll('.gender-button').forEach(btn => {
                btn.classList.remove('bg-blue-500', 'bg-pink-500', 'ring-4', 'ring-offset-2', 'ring-offset-gray-900', 'ring-blue-500', 'ring-pink-500');
                btn.classList.add('bg-gray-700', 'hover:bg-blue-600');
            });
            updateStep1Button();
            updateStep(1);
        }

        // --- THREE.JS INITIALIZATION & ANIMATION (Fantasy/Sci-fi Theme) ---

        function initThreeJS() {
            const canvas = document.getElementById('three-canvas');
            const width = window.innerWidth;
            const height = window.innerHeight;

            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true, alpha: true });
            renderer.setSize(width, height);
            renderer.setClearColor(0x0e0e1a, 1); // Dark Night/Space color

            camera.position.z = 5;

            // Ambient Light (Soft glow)
            scene.add(new THREE.AmbientLight(0x404040, 5));

            // Point Light (Magical glow)
            const pointLight = new THREE.PointLight(0x93c5fd, 10, 500);
            pointLight.position.set(10, 10, 10);
            scene.add(pointLight);

            // Star/Particle Field (Magic Dust)
            const particleGeometry = new THREE.BufferGeometry();
            const particleCount = 2000;
            const posArray = new Float32Array(particleCount * 3);

            for (let i = 0; i < particleCount * 3; i++) {
                // Spread particles in a large cube
                posArray[i] = (Math.random() - 0.5) * 100;
            }

            particleGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
            const particleMaterial = new THREE.PointsMaterial({
                color: 0xffffff,
                size: 0.05,
                transparent: true,
                opacity: 0.8,
                blending: THREE.AdditiveBlending,
                sizeAttenuation: true
            });
            const particles = new THREE.Points(particleGeometry, particleMaterial);
            scene.add(particles);

            // Floating Candy/Magic Orb Geometries
            const numObjects = 15;
            const geometry = new THREE.IcosahedronGeometry(0.5, 0); // Rounded, abstract shape
            const material = new THREE.MeshStandardMaterial({
                color: 0x8a2be2, // Blue Violet
                emissive: 0x93c5fd, // Light blue glow
                emissiveIntensity: 0.5,
                metalness: 0.5,
                roughness: 0.1,
                transparent: true,
                opacity: 0.8
            });

            for (let i = 0; i < numObjects; i++) {
                const candy = new THREE.Mesh(geometry, material.clone());
                candy.position.set(
                    (Math.random() - 0.5) * 10,
                    (Math.random() - 0.5) * 10,
                    (Math.random() - 0.5) * 10
                );
                candy.rotation.set(
                    Math.random() * Math.PI,
                    Math.random() * Math.PI,
                    Math.random() * Math.PI
                );
                candy.userData.speedX = (Math.random() - 0.5) * 0.005;
                candy.userData.speedY = (Math.random() - 0.5) * 0.005;
                candy.userData.speedZ = (Math.random() - 0.5) * 0.005;
                scene.add(candy);
                magicObjects.push(candy);
            }

            // Animation Loop
            const animate = () => {
                requestAnimationFrame(animate);

                const time = Date.now() * 0.00005;
                // Move camera slightly for dynamic effect
                camera.position.x += (0 - camera.position.x) * 0.0005;
                camera.position.y += (0 - camera.position.y) * 0.0005;

                // Animate floating objects
                magicObjects.forEach(obj => {
                    obj.rotation.x += obj.userData.speedX;
                    obj.rotation.y += obj.userData.speedY;

                    // Simple floating motion
                    obj.position.y += Math.sin(time * 5 + obj.id) * 0.001;

                    // Loop objects back if they float too far
                    if (obj.position.z > 10) obj.position.z = -10;
                    if (obj.position.z < -10) obj.position.z = 10;
                });

                // Animate particles
                particles.rotation.y += 0.0005;


                renderer.render(scene, camera);
            };

            animate();

            // Handle Resize
            window.addEventListener('resize', () => {
                const newWidth = window.innerWidth;
                const newHeight = window.innerHeight;
                camera.aspect = newWidth / newHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(newWidth, newHeight);
            });
        }

        // --- EVENT LISTENERS & INITIALIZATION ---

        window.onload = function () {
            // Initialize 3D scene
            initThreeJS();

            // Set initial language
            setLanguage('th');

            // Add input listeners for Step 1 validation
            document.getElementById('user-name').addEventListener('input', updateStep1Button);
            document.getElementById('user-age').addEventListener('input', updateStep1Button);

            // Start on Step 1
            updateStep(1);
        };

        function shareResult() {
    // 1. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏∞‡∏à‡∏±‡∏ö‡∏†‡∏≤‡∏û
    // const elementToCapture = document.getElementById('recommendation-box'); 
    const elementToCapture = document.body;
    
    // 2. ‡πÉ‡∏ä‡πâ html2canvas ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á HTML ‡πÄ‡∏õ‡πá‡∏ô Canvas
    html2canvas(elementToCapture, {
        backgroundColor: null, // ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™ ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
        scale: 2 // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏†‡∏≤‡∏û‡πÉ‡∏´‡πâ‡∏Ñ‡∏°‡∏ä‡∏±‡∏î‡∏Ç‡∏∂‡πâ‡∏ô
    }).then(canvas => {
        // 3. ‡πÅ‡∏õ‡∏•‡∏á Canvas ‡πÄ‡∏õ‡πá‡∏ô Data URL
        const dataURL = canvas.toDataURL('image/png');

        // 4. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á Facebook ‡πÅ‡∏•‡∏∞ Instagram Stories
        const shareText = `‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏â‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠ ${document.getElementById('result-mbti').textContent} ‡πÅ‡∏•‡∏∞‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏â‡∏±‡∏ô! #MBTIxMajor #‡∏Ñ‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà`;
        
        // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Facebook
        const facebookShareURL = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}&quote=${encodeURIComponent(shareText)}`;
        
        // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Instagram Stories (‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ App Schema)
        // Note: ‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏õ Instagram Stories ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÅ‡∏≠‡∏õ Instagram ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏≠‡∏¢‡∏π‡πà
        const instagramShareURL = `instagram-stories://share?source_application=${encodeURIComponent('MBTIxMajorApp')}&content_url=${encodeURIComponent(window.location.href)}`;
        // ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Blob ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏ä‡∏£‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡πÅ‡∏ï‡πà‡∏à‡∏∞‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô
        
        // 5. ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ä‡∏£‡πå
        // ‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô popup ‡∏á‡πà‡∏≤‡∏¢‡πÜ
        // ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏¢‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Facebook ‡πÅ‡∏•‡∏∞ Instagram ‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢
        const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
        
        // if (isMobile) {
        //     const shareOptions = `
        //         <div>
        //             <p class="text-lg mb-4">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå:</p>
        //             <button onclick="window.open('${instagramShareURL}')" class="candy-button px-6 py-2 rounded-full font-bold mb-2 bg-pink-500 hover:bg-pink-600">
        //                 <i class="fab fa-instagram mr-2"></i> Instagram Story
        //             </button>
        //             <button onclick="window.open('${facebookShareURL}', '_blank')" class="candy-button px-6 py-2 rounded-full font-bold mb-2 bg-blue-600 hover:bg-blue-700">
        //                 <i class="fab fa-facebook mr-2"></i> Facebook
        //             </button>
        //         </div>`;
        //     showMessage(shareOptions);

        // } else {
        //     const downloadLink = document.createElement('a');
        //     downloadLink.href = dataURL;
        //     downloadLink.download = `MBTIxMajor_Result_${document.getElementById('result-mbti').textContent}.png`;
        //     document.body.appendChild(downloadLink);
        //     downloadLink.click();
        //     document.body.removeChild(downloadLink);
        //     showMessage('‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß! ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ô‡∏≥‡πÑ‡∏õ‡πÅ‡∏ä‡∏£‡πå‡∏ö‡∏ô‡πÇ‡∏ã‡πÄ‡∏ä‡∏µ‡∏¢‡∏•‡∏°‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢');
        // }
    });
}
    </script>
</body>
</html>